"use strict";(self["webpackChunkweather_project_vue3"]=self["webpackChunkweather_project_vue3"]||[]).push([[216],{216:function(t,e,s){s.r(e),s.d(e,{default:function(){return B}});var r=s(6768),a=s(4232);const n={key:0,class:"forecast-card-wrap"},o={key:1,class:"forecast-card-wrap"},l={class:"forecast-card"},c={class:"forecast-date"},i={class:"weather-main"},u=["src","alt"],d={class:"description"},p={class:"forecast-details"},k={key:2,class:"forecast-card-wrap"};function f(t,e,s,f,h,m){const v=(0,r.g2)("base-button");return t.listForecasts.length?t.forecast?((0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",l,[(0,r.Lk)("h2",c,(0,a.v_)(t.formatDate(t.forecast.dt_txt)),1),(0,r.Lk)("div",i,[(0,r.Lk)("img",{src:t.weatherIconUrl(t.forecast.weather[0].icon),alt:t.forecast.weather[0].description},null,8,u),(0,r.Lk)("p",d,(0,a.v_)(t.forecast.weather[0].description),1)]),(0,r.Lk)("ul",p,[(0,r.Lk)("li",null,[e[1]||(e[1]=(0,r.Lk)("span",null,"Температура:",-1)),(0,r.eW)(" "+(0,a.v_)(Math.round(t.forecast.main.temp))+"°C ",1),(0,r.Lk)("small",null,"(ощущается как "+(0,a.v_)(Math.round(t.forecast.main.feels_like))+"°C)",1)]),(0,r.Lk)("li",null,[e[2]||(e[2]=(0,r.Lk)("span",null,"Ветер:",-1)),(0,r.eW)(" "+(0,a.v_)(Math.round(t.forecast.wind.speed))+" м/с, "+(0,a.v_)(t.windDirection(t.forecast.wind.deg)),1)]),(0,r.Lk)("li",null,[e[3]||(e[3]=(0,r.Lk)("span",null,"Влажность:",-1)),(0,r.eW)(" "+(0,a.v_)(t.forecast.main.humidity)+"% ",1)]),(0,r.Lk)("li",null,[e[4]||(e[4]=(0,r.Lk)("span",null,"Давление:",-1)),(0,r.eW)(" "+(0,a.v_)(t.pressureMmHg(t.forecast.main.pressure))+" мм рт. ст. ",1)]),(0,r.Lk)("li",null,[e[5]||(e[5]=(0,r.Lk)("span",null,"Облачность:",-1)),(0,r.eW)(" "+(0,a.v_)(t.forecast.clouds?.all)+"% ",1)])])]),(0,r.bF)(v,{onClick:t.goBack},{default:(0,r.k6)(()=>[...e[6]||(e[6]=[(0,r.eW)("Назад",-1)])]),_:1},8,["onClick"])])):((0,r.uX)(),(0,r.CE)("div",k,[...e[7]||(e[7]=[(0,r.Lk)("p",null,"Прогноз не найден.",-1)])])):((0,r.uX)(),(0,r.CE)("div",n,[...e[0]||(e[0]=[(0,r.Lk)("div",{class:"spinner"},null,-1)])]))}s(8111),s(116);var h=s(1989),m=s(5245);const v={class:"button-wrap"},g={class:"button-block"};function w(t,e,s,a,n,o){return(0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("button",g,[(0,r.RG)(t.$slots,"default",{},void 0,!0)])])}var L=(0,r.pM)({name:"BaseButton"}),_=s(1241);const b=(0,_.A)(L,[["render",w],["__scopeId","data-v-7c6299a9"]]);var C=b,M=(0,r.pM)({name:"ForecastPageItem",components:{BaseButton:C,Button:C,BlockWrap:h.A},props:{slug:{type:String,required:!0}},computed:{destinationStore(){return(0,m.d)()},listForecasts(){return this.destinationStore.listForecasts?.list||[]},forecast(){if(!this.listForecasts||0===this.listForecasts.length)return null;const t=this.slugToDtTxt(this.slug);return this.listForecasts.find(e=>e.dt_txt===t)||null}},methods:{slugToDtTxt(t){return t.slice(0,10)+" "+t.slice(11)},formatDate(t){const e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(t).toLocaleDateString("ru-RU",e)},windDirection(t){const e=["северный","северо-восточный","восточный","юго-восточный","южный","юго-западный","западный","северо-западный"],s=Math.round(t/45)%8;return e[s]},pressureMmHg(t){return Math.round(.75006*t)},weatherIconUrl(t){return`https://openweathermap.org/img/wn/${t}@2x.png`},goBack(){this.$router.back()}},mounted(){document.title=`Прогноз погоды на 5 дней — ${this.slug}`}});const y=(0,_.A)(M,[["render",f],["__scopeId","data-v-d93538d8"]]);var B=y}}]);
//# sourceMappingURL=216.4d1c3468.js.map