{"version":3,"file":"js/749.93e427d0.js","mappings":"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","sources":["webpack://weather-project-vue3/./src/components/Features/ForecastPageItem.vue?62bc","webpack://weather-project-vue3/./src/components/Features/ForecastPageItem.vue","webpack://weather-project-vue3/./src/components/Features/ForecastPageItem.vue?1a2f"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"forecast-card-wrap\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"forecast-card-wrap\"\n}\nconst _hoisted_3 = { class: \"forecast-card\" }\nconst _hoisted_4 = { class: \"forecast-date\" }\nconst _hoisted_5 = { class: \"weather-main\" }\nconst _hoisted_6 = [\"src\", \"alt\"]\nconst _hoisted_7 = { class: \"description\" }\nconst _hoisted_8 = { class: \"forecast-details\" }\nconst _hoisted_9 = {\n  key: 2,\n  class: \"forecast-card-wrap\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (!_ctx.listForecasts.length)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [...(_cache[0] || (_cache[0] = [\n        _createElementVNode(\"div\", { class: \"spinner\" }, null, -1)\n      ]))]))\n    : (_ctx.forecast)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"h2\", _hoisted_4, _toDisplayString(_ctx.formatDate(_ctx.forecast.dt_txt)), 1),\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"img\", {\n                src: _ctx.weatherIconUrl(_ctx.forecast.weather[0].icon),\n                alt: _ctx.forecast.weather[0].description\n              }, null, 8, _hoisted_6),\n              _createElementVNode(\"p\", _hoisted_7, _toDisplayString(_ctx.forecast.weather[0].description), 1)\n            ]),\n            _createElementVNode(\"ul\", _hoisted_8, [\n              _createElementVNode(\"li\", null, [\n                _cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \"Температура:\", -1)),\n                _createTextVNode(\" \" + _toDisplayString(Math.round(_ctx.forecast.main.temp)) + \"°C \", 1),\n                _createElementVNode(\"small\", null, \"(ощущается как \" + _toDisplayString(Math.round(_ctx.forecast.main.feels_like)) + \"°C)\", 1)\n              ]),\n              _createElementVNode(\"li\", null, [\n                _cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"Ветер:\", -1)),\n                _createTextVNode(\" \" + _toDisplayString(Math.round(_ctx.forecast.wind.speed)) + \" м/с, \" + _toDisplayString(_ctx.windDirection(_ctx.forecast.wind.deg)), 1)\n              ]),\n              _createElementVNode(\"li\", null, [\n                _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"Влажность:\", -1)),\n                _createTextVNode(\" \" + _toDisplayString(_ctx.forecast.main.humidity) + \"% \", 1)\n              ]),\n              _createElementVNode(\"li\", null, [\n                _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"Давление:\", -1)),\n                _createTextVNode(\" \" + _toDisplayString(_ctx.pressureMmHg(_ctx.forecast.main.pressure)) + \" мм рт. ст. \", 1)\n              ]),\n              _createElementVNode(\"li\", null, [\n                _cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"Облачность:\", -1)),\n                _createTextVNode(\" \" + _toDisplayString(_ctx.forecast.clouds?.all) + \"% \", 1)\n              ])\n            ])\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [...(_cache[6] || (_cache[6] = [\n          _createElementVNode(\"p\", null, \"Прогноз не найден.\", -1)\n        ]))]))\n}","<template>\r\n  <div class=\"forecast-card-wrap\" v-if=\"!listForecasts.length\">\r\n    <div class=\"spinner\"></div>\r\n  </div>\r\n\r\n  <div class=\"forecast-card-wrap\" v-else-if=\"forecast\">\r\n    <div class=\"forecast-card\">\r\n      <h2 class=\"forecast-date\">{{ formatDate(forecast.dt_txt) }}</h2>\r\n\r\n      <div class=\"weather-main\">\r\n        <img\r\n            :src=\"weatherIconUrl(forecast.weather[0].icon)\"\r\n            :alt=\"forecast.weather[0].description\"\r\n        />\r\n        <p class=\"description\">{{ forecast.weather[0].description }}</p>\r\n      </div>\r\n\r\n      <ul class=\"forecast-details\">\r\n        <li>\r\n          <span>Температура:</span>\r\n          {{ Math.round(forecast.main.temp) }}°C\r\n          <small>(ощущается как {{ Math.round(forecast.main.feels_like) }}°C)</small>\r\n        </li>\r\n        <li>\r\n          <span>Ветер:</span>\r\n          {{ Math.round(forecast.wind.speed) }} м/с, {{ windDirection(forecast.wind.deg) }}\r\n        </li>\r\n        <li>\r\n          <span>Влажность:</span>\r\n          {{ forecast.main.humidity }}%\r\n        </li>\r\n        <li>\r\n          <span>Давление:</span>\r\n          {{ pressureMmHg(forecast.main.pressure) }} мм рт. ст.\r\n        </li>\r\n        <li>\r\n          <span>Облачность:</span>\r\n          {{ forecast.clouds?.all }}%\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"forecast-card-wrap\" v-else>\r\n    <p>Прогноз не найден.</p>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport BlockWrap from \"@/components/Common/BlockWrap.vue\";\r\nimport {type DestinationStoreType, useDestinationStore} from \"@/store/DestinationStore\";\r\nimport { defineComponent } from 'vue';\r\nimport {ForecastListItem} from \"@/interfaces/forecast\";\r\n\r\nexport default defineComponent(\r\n    {\r\n      name: \"ForecastPageItem\",\r\n      components: { BlockWrap },\r\n      props: {\r\n        slug: { type: String, required: true }\r\n      },\r\n      computed: {\r\n        destinationStore(): DestinationStoreType {\r\n          return useDestinationStore();\r\n        },\r\n        listForecasts(): ForecastListItem[] | null {\r\n          return this.destinationStore.listForecasts?.list || [];\r\n        },\r\n        forecast(): ForecastListItem | null {\r\n          if (!this.listForecasts || this.listForecasts.length === 0) {\r\n            return null;\r\n          }\r\n          const dtTxt:string = this.slugToDtTxt(this.slug);\r\n          return this.listForecasts.find(elem => elem.dt_txt === dtTxt) || null;\r\n        },\r\n      },\r\n      methods: {\r\n        slugToDtTxt(slug: string): string {\r\n          return slug.slice(0, 10) + ' ' + slug.slice(11);\r\n        },\r\n        formatDate(dateStr: string) : string {\r\n          const options: Intl.DateTimeFormatOptions = {\r\n            weekday: 'long',\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n          };\r\n          return new Date(dateStr).toLocaleDateString('ru-RU', options);\r\n        },\r\n        windDirection(deg: number): string {\r\n          const dirs = [\r\n            'северный',\r\n            'северо-восточный',\r\n            'восточный',\r\n            'юго-восточный',\r\n            'южный',\r\n            'юго-западный',\r\n            'западный',\r\n            'северо-западный'\r\n          ];\r\n          const index = Math.round(deg / 45) % 8;\r\n          return dirs[index];\r\n        },\r\n        pressureMmHg(hPa: number): number {\r\n          return Math.round(hPa * 0.75006);\r\n        },\r\n        weatherIconUrl(iconCode: string): string {\r\n          return `https://openweathermap.org/img/wn/${iconCode}@2x.png`;\r\n        }\r\n      },\r\n      mounted() {\r\n        document.title = `Прогноз погоды на 5 дней — ${this.slug}`;\r\n      }\r\n    }\r\n)\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.forecast-card-wrap{\r\n  margin: 10px 20px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.forecast-card {\r\n  background-color: $white_color;\r\n  border-radius: 12px;\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  color: $gray_color;\r\n  max-width: 620px;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n\r\n  .forecast-date {\r\n    color: $main_color;\r\n    font-size: 20px;\r\n    margin-bottom: 15px;\r\n\r\n    &::first-letter {\r\n      text-transform: uppercase;\r\n    }\r\n  }\r\n\r\n  .weather-main {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 15px;\r\n    margin-bottom: 20px;\r\n\r\n    img {\r\n      width: 60px;\r\n      height: 60px;\r\n    }\r\n\r\n    .description {\r\n      font-size: 18px;\r\n      color: $additional_color;\r\n      text-transform: capitalize;\r\n    }\r\n  }\r\n\r\n  .forecast-details {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n\r\n    li {\r\n      margin-bottom: 10px;\r\n      font-size: 16px;\r\n\r\n      span {\r\n        color: $main_color;\r\n        font-weight: bold;\r\n        margin-right: 5px;\r\n      }\r\n\r\n      small {\r\n        color: $light_color;\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.spinner {\r\n  margin: 50px auto;\r\n  border: 6px solid #f3f3f3;\r\n  border-top: 6px solid $main_color;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0%   { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n</style>","import { render } from \"./ForecastPageItem.vue?vue&type=template&id=51e40040&scoped=true&ts=true\"\nimport script from \"./ForecastPageItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ForecastPageItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ForecastPageItem.vue?vue&type=style&index=0&id=51e40040&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51e40040\"]])\n\nexport default __exports__"],"names":["_hoisted_1","key","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","render","_ctx","_cache","$props","$setup","$data","$options","listForecasts","length","forecast","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","formatDate","dt_txt","src","weatherIconUrl","weather","icon","alt","description","_createTextVNode","Math","round","main","temp","feels_like","wind","speed","windDirection","deg","humidity","pressureMmHg","pressure","clouds","all","defineComponent","name","components","BlockWrap","props","slug","type","String","required","computed","destinationStore","useDestinationStore","this","list","dtTxt","slugToDtTxt","find","elem","methods","slice","dateStr","options","weekday","year","month","day","hour","minute","Date","toLocaleDateString","dirs","index","hPa","iconCode","mounted","document","title","__exports__"],"sourceRoot":""}